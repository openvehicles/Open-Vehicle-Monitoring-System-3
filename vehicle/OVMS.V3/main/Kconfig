menuconfig OVMS
    bool "Open Vehicle Monitoring System (OVMS)"
    default y
    help
        Select this option to enable OVMS specific features

config OVMS_VERSION_TAG
    string "A tag to describe the current build version"
    default main
    depends on OVMS
    help
        Custom builds should change this tag to describe themselves



menu "Hardware Support"
    depends on OVMS

choice OVMS_HW_MODEL
    prompt "Select the OVMS hardware model being built for"
        default OVMS_HW_BASE_3_0
        depends on OVMS
        help
                OVMS_HW_BASE_3_0                OVMS base (early developer) hardware v3.0
                OVMS_HW_BASE_3_1                OVMS base production hardware v3.1

config OVMS_HW_BASE_3_0
    bool "OVMS base hardware v3.0"
    help
        Select this: OVMS base (early developer) hardware v3.0

config OVMS_HW_BASE_3_1
    bool "OVMS base hardware v3.1"
    help
        Select this: OVMS base production hardware v3.1

endchoice # OVMS_HW_MODEL

config OVMS_HW_SPIMEM_AGGRESSIVE
    bool "Aggressively use SPI RAM (rather than internal RAM)"
    default y
    depends on OVMS && OVMS_HW_BASE_3_1
    help
        Enable to aggressively allocate from SPI RAM (rather than internal RAM).

config OVMS_HW_CONSOLE_QUEUE_SIZE
    int "Console queue size"
    default 100
    depends on OVMS
    help
        The size of the console defer queue. If more than this number
        of alert are raised in a very short period of time, excess
        alerts may be dropped (with suitable warning).

config OVMS_HW_ASYNC_QUEUE_SIZE
    int "Async async terminal queue size"
    default 100
    depends on OVMS
    help
        The size of the async terminal queue. If more than this number
        of alert are raised in a very short period of time, excess
        alerts may be dropped (with suitable warning).

config OVMS_HW_EVENT_QUEUE_SIZE
    int "EVENT queue size"
    default 20
    depends on OVMS
    help
        The size of the EVENT queue.

config OVMS_HW_NETMANAGER_QUEUE_SIZE
    int "NETMANAGER queue size"
    default 10
    depends on OVMS
    help
        The size of the NETMANAGER queue.

config OVMS_HW_CAN_RX_QUEUE_SIZE
    int "CAN bus RX queue size"
    default 30
    depends on OVMS
    help
        The size of the CAN bus RX queue.

config OVMS_HW_CAN_TX_QUEUE_SIZE
    int "CAN bus TX queue size"
    default 20
    depends on OVMS
    help
        The size of the CAN bus TX queue.

endmenu # Hardware Support



menu "Library Support"
    depends on OVMS

choice OVMS_SC_JAVASCRIPT
    prompt "Select the OVMS javascript library to use"
        default OVMS_SC_JAVASCRIPT_DUKTAPE
        depends on OVMS
        help
                OVMS_SC_JAVASCRIPT_NONE         No javascript support
                OVMS_SC_JAVASCRIPT_DUKTAPE      DUKTAPE (MIT license)

config OVMS_SC_JAVASCRIPT_NONE
    bool "No javascript support"
    help
        Select this: No javascript support

config OVMS_SC_JAVASCRIPT_DUKTAPE
    bool "Use the MIT licensed DUKTAPE library"
    depends on OVMS
    help
        Use the MIT licensed DUKTAPE library (for Javascript)

endchoice # OVMS_SC_JAVASCRIPT

menuconfig OVMS_SC_GPL_MONGOOSE
    bool "Include the GPL licensed MONGOOSE networking library (web server, etc)"
    default y
    depends on OVMS
    help
        Enable to include the GPL licensed MONGOOSE networking library

config MG_ENABLE_FILESYSTEM
    bool "Enable MONGOOSE filesystem support"
    default y
    depends on OVMS_SC_GPL_MONGOOSE
    help
        Enable MONGOOSE filesystem support

config MG_ENABLE_DIRECTORY_LISTING
    bool "Enable MONGOOSE directory listing support"
    default y
    depends on OVMS_SC_GPL_MONGOOSE
    help
        Enable MONGOOSE directory listing support

config MG_ENABLE_DEBUG
    bool "Enable MONGOOSE debug logging"
    default n
    depends on OVMS_SC_GPL_MONGOOSE
    help
        Enable MONGOOSE verbose debug log output
        (on ESP_LOG verbose channel, including timing details)

config OVMS_SC_GPL_WOLF
    bool "Include the GPL licensed WOLFSSH and WOLFSSL libraries (ssh server)"
    default y
    depends on OVMS
    help
        Enable to include the GPL licensed WOLFSSH and WOLFSSL libraries
        (required for SSH server functionality)

config OVMS_SC_ZIP
    bool "Include ZIP archive support"
    default y
    depends on OVMS
    help
        Enable to include zip archive support for config backup & restore.
        This is based on libzip by Dieter Baron and Thomas Klausner and
        zlib by Jean-loup Gailly and Mark Adler.

endmenu # Library support



menu "Vehicle Support"
    depends on OVMS

config OVMS_VEHICLE_NONE
    bool "Include support for base NONE vehicle stub"
    default n
    depends on OVMS
    help
        Enable to include support for base NONE vehicle stub.

config OVMS_VEHICLE_OBDII
    bool "Include support for OBDII vehicles"
    default y
    depends on OVMS
    help
        Enable to include support for OBDII vehicles.

config OVMS_VEHICLE_TRACK
    bool "Include support for TRACK vehicle"
    default y
    depends on OVMS
    help
        Enable to include support for tracker vehicles.

config OVMS_VEHICLE_DEMO
    bool "Include support for DEMO vehicle"
    default y
    depends on OVMS
    help
        Enable to include support for demonstration vehicles.

config OVMS_VEHICLE_TESLAROADSTER
    bool "Include support for Tesla Roadster vehicles"
    default y
    depends on OVMS
    help
        Enable to include support for Tesla Roadster vehicles.

config OVMS_VEHICLE_TESLAMODELS
    bool "Include support for Tesla Model S vehicles"
    default y
    depends on OVMS
    help
        Enable to include support for Tesla Model S vehicles.

config OVMS_VEHICLE_NISSANLEAF
    bool "Include support for Nissan Leaf vehicles"
    default y
    depends on OVMS
    help
        Enable to include support for Nissan Leaf vehicles.

config OVMS_VEHICLE_RENAULTTWIZY
    bool "Include support for Renault Twizy vehicles"
    default y
    depends on OVMS
    depends on OVMS_COMP_CANOPEN
    help
        Enable to include support for Renault Twizy vehicles.

config OVMS_VEHICLE_KIASOULEV
    bool "Include support for Kia Soul EV vehicles"
    default y
    depends on OVMS
    help
        Enable to include support for Kia Soul EV vehicles.

config OVMS_VEHICLE_VOLTAMPERA
    bool "Include support for Volt/Ampera vehicles"
    default y
    depends on OVMS
    help
        Enable to include support for Volt/Ampera vehicles.

config OVMS_VEHICLE_THINKCITY
    bool "Include support for Think City vehicles"
    default y
    depends on OVMS
    help
        Enable to include support for Think City vehicles.

config OVMS_VEHICLE_MITSUBISHI
    bool "Include support for Mitsubishi iMiev vehicle"
    default y
    depends on OVMS
    help
        Enable to include support for Mitsubishi iMiev vehicle.

config OVMS_VEHICLE_ZEVA
    bool "Include support for vehicles using Zeva BMS"
    default y
    depends on OVMS
    help
        Enable to include support for vehicles using Zeva BMS.

config OVMS_VEHICLE_FIAT500
    bool "Include support for Fiat 500 vehicle"
    default y
    depends on OVMS
    help
        Enable to include support for FIAT 500 vehicle.

config OVMS_VEHICLE_RXTASK_STACK
    int "Stack size for vehicle RX task"
    default 6144
    depends on OVMS
    help
        Stack size for the vehicle CAN RX task ("Vrx Task").
        The RX task triggers events and metrics updates so needs to be
        able to process the attached event/metrics listeners.
        Standard stack usage of this task is currently around 1400 bytes.

config OVMS_VEHICLE_CAN_RX_QUEUE_SIZE
    int "Vehicle CAN queue size"
    default 40
    depends on OVMS
    help
        The size of the CAN bus RX queue (at the vehicle component).

endmenu # Vehicle Support



menu "Component Options"
    depends on OVMS

config OVMS_COMP_BLUETOOTH
    bool "Include support for Bluetooth"
    default y
    depends on OVMS
    depends on BT_ENABLED
    help
        Enable to include support for bluetooth communications.

config OVMS_COMP_WIFI
    bool "Include support for WIFI"
    default y
    depends on OVMS
    help
        Enable to include support for wifi communications.

config OVMS_COMP_MAX7317
    bool "Include support for MAX7317 GPIO expander"
    default y
    depends on OVMS
    help
        Enable to include support for MAX7317 GPIO expander.

config OVMS_COMP_ESP32CAN
    bool "Include support for ESP32 on-board CAN controller (can1)"
    default y
    depends on OVMS
    help
        Enable to include support for ESP32 on-board CAN controller (can1).

config OVMS_COMP_MCP2515
    bool "Include support for MCP2515 CAN controllers (can2, can3)"
    default y
    depends on OVMS
    help
        Enable to include support for MCP2515 CAN controllers (can2, can3).

config OVMS_COMP_ADC
    bool "Include support for ADC (reading 12V line voltage)"
    default y
    depends on OVMS
    help
        Enable to include support for ADC (reading 12V line voltage).

config OVMS_COMP_EXT12V
    bool "Include support for External 12V power control"
    default y
    depends on OVMS
    help
        Enable to include support for External 12V power control.

config OVMS_COMP_SERVER
    bool "Include support for OVMS server connections"
    default y
    depends on OVMS_SC_GPL_MONGOOSE
    help
        Enable to include support for OVMSserver connections.

config OVMS_COMP_SERVER_V2
    bool "Include support for V2 server connections"
    default y
    depends on OVMS_COMP_SERVER
    help
        Enable to include support for V2 server connections.

config OVMS_COMP_SERVER_V3
    bool "Include support for V3 server connections"
    default y
    depends on OVMS_COMP_SERVER
    help
        Enable to include support for V3 server connections.

config OVMS_COMP_OTA
    bool "Include support for Over-The-Air firmware updates"
    default y
    depends on OVMS
    help
        Enable to include support for Over-The-Air firmware updates.

config OVMS_COMP_LOCATION
    bool "Include support for LOCATION and geofencing"
    default y
    depends on OVMS
    help
        Enable to include support for LOCATION and geofencing.

config OVMS_COMP_WEBSERVER
    bool "Include support for Network Web Server"
    default y
    depends on OVMS_SC_GPL_MONGOOSE
    help
        Enable to include support for Web Server.

config OVMS_COMP_MDNS
    bool "Include support for Network MDNS"
    default y
    depends on OVMS
    help
        Enable to include support for MDNS.

config OVMS_COMP_TELNET
    bool "Include support for Telnet server"
    default y
    depends on OVMS_SC_GPL_MONGOOSE
    help
        Enable to include support for Telnet server.

config OVMS_COMP_SSH
    bool "Include support for SSH server"
    default y
    depends on OVMS_SC_GPL_MONGOOSE
    help
        Enable to include support for SSH server.

config OVMS_COMP_MODEM_SIMCOM
    bool "Include support for SIMCOM modems"
    default y
    depends on OVMS && OVMS_COMP_MAX7317
    help
        Enable to include support for SIMCOM modems

config OVMS_COMP_SDCARD
    bool "Include support for SD CARDs"
    default y
    depends on OVMS
    help
        Enable to include support for SD CARDs

config OVMS_COMP_OBD2ECU
    bool "Include support for OBDII ECU"
    default y
    depends on OVMS
    help
        Enable to include support for OBDII ECU

config OVMS_COMP_RE_TOOLS
    bool "Include support for Reverse Engineering tools"
    default y
    depends on OVMS
    help
        Enable to include support for Reverse Engineering tools

config OVMS_COMP_EDITOR
    bool "Include support for Simple file editor"
    default y
    depends on OVMS
    help
        Enable to include support for a simple file editor (vfs edit)

menuconfig OVMS_COMP_CANOPEN
    bool "Include CANopen framework"
    default y
    depends on OVMS
    help
        The CANopen framework provides shell commands and a simple client API
        for CANopen node management (NMT), state and emergency (EMCY) monitoring,
        and accessing node service dictionary objects (SDO).

config OVMS_COMP_CANOPEN_RX_STACK
    int "Stack size for CANopen RX task"
    default 3072
    depends on OVMS_COMP_CANOPEN
    help
        Stack size for the CANopen RX task ("COrx").
        The shared RX task triggers EMCY and NMT events and metrics updates
        so needs to be able to process the event/metrics listeners. If the
        listeners are simple, stack size can be reduced.
        Standard stack usage for the Twizy is currently around 2400 bytes.

config OVMS_COMP_CANOPEN_WRK_STACK
    int "Stack size for CANopen worker (TX) tasks"
    default 2048
    depends on OVMS_COMP_CANOPEN
    help
        Stack size for CANopen worker tasks ("COwrk").
        Worker tasks only process TX jobs and don't trigger any event/metrics
        updates so can run with a smaller stack than the RX task.
        Standard stack usage for the Twizy is currently around 1000 bytes.

endmenu # Component Options



menu "Developer Options"
    depends on OVMS

config OVMS_DEV_CONFIGVFS
    bool "Disable the usual protections for configuration visibility in VFS"
    default n
    depends on OVMS
    help
        Enable to permit VFS access to configuration files (danger: insecure)

config OMMS_DEV_SDCARDSCRIPTS
    bool "Run event scripts from /sd, as well as /store (note: may be insecure)"
    default n
    depends on OVMS
    help
        Enable to run events script from /sd, as well as /store (danger: insecure)

config OVMS_DEV_DEBUGEVENTS
    bool "Enable extended event tracing"
    default n
    depends on OVMS
    help
        Enable to show events signalled

config OVMS_DEV_DEBUGNOTIFICATIONS
    bool "Enable extended notification tracing"
    default n
    depends on OVMS
    help
        Enable to show notifications raised

endmenu # Developer Options
